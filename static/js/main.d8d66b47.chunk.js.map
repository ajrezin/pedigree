{"version":3,"sources":["PedigreeTree.js","ManageTree.js","App.js","index.js"],"names":["PedigreeTree","pedigree","setCurrentNode","manageTreeRef","visibleAttributeProps","nodeSize","x","y","foreignObjectProps","width","height","className","data","pathFunc","depthFactor","zoom","separation","nonSiblings","siblings","scaleExtent","max","min","translate","pathClassFunc","renderCustomNodeElement","rd3tProps","nodeDatum","toggleNode","style","Box","tabIndex","onKeyDown","e","key","current","focus","onFocus","background","elevation","fill","id","flex","pad","justify","Heading","size","truncate","textAlign","margin","gap","align","name","sex","Text","attributes","color","birthday","hips","children","length","Button","onClick","label","__rd3t","collapsed","renderForeignObjectNode","radioOptions","value","ManageTree","currentNode","setVisibleAttribute","ref","chicNum","registrationType","registrationNum","dnaInfo","ofaLink","Anchor","default","href","target","RadioButtonGroup","options","onChange","selectedValue","console","log","newAttributes","JSON","parse","stringify","setAttributeFromRadio","require","App","useState","visibleAttribute","useRef","Grommet","node","attributeObj","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d8d66b47.chunk.js","sourcesContent":["import React from 'react';\nimport { Box, Button, Heading, Text } from 'grommet';\nimport Tree from 'react-d3-tree';\n\nconst renderForeignObjectNode = ({\n  nodeDatum,\n  toggleNode,\n  setCurrentNode,\n  manageTreeRef,\n  foreignObjectProps,\n  visibleAttributeProps\n}) => (\n  <g>\n    {/* `foreignObject` requires width & height to be explicitly set. */}\n    <foreignObject {...foreignObjectProps}>\n      <div style={{ height: \"92%\", width: \"97%\" }} data-xmlns=\"http://www.w3.org/1999/xhtml\">\n        <Box\n          tabIndex=\"0\"\n          onKeyDown={(e) => {\n            if (e.key === \"ArrowLeft\"\n              || e.key === \"ArrowRight\"\n              || e.key === \" \") {\n              toggleNode()\n            }\n            if (e.key === \"Enter\") {\n              manageTreeRef.current.focus()\n            }\n          }}\n          onFocus={() => { setCurrentNode(nodeDatum) }}\n          background=\"light-2\"\n          elevation=\"large\"\n          fill={true}\n          id=\"node\"\n        >\n          <Box flex={true} pad=\"medium\" justify=\"around\">\n            <Heading size=\"xxsmall\" truncate={true} textAlign=\"center\" margin=\"none\" pad=\"none\" gap=\"none\" align=\"center\">\n              {nodeDatum.name}\n            </Heading>\n            <Box align=\"center\" gap=\"small\">\n              {visibleAttributeProps.sex && (<Text size=\"xxlarge\">Sex: {nodeDatum.attributes.sex}</Text>)}\n              {visibleAttributeProps.color && (<Text size=\"xxlarge\">Color: {nodeDatum.attributes.color}</Text>)}\n              {visibleAttributeProps.birthday && (<Text size=\"xxlarge\">Birthday: {nodeDatum.attributes.birthday}</Text>)}\n              {visibleAttributeProps.hips && (<Text size=\"xxlarge\">Hips: {nodeDatum.attributes.hips}</Text>)}\n              {nodeDatum.children.length !== 0 && (\n                <div>\n                  <Button\n                    onClick={toggleNode}\n                    tabIndex=\"-1\"\n                    label={nodeDatum.__rd3t.collapsed ? \"Show Ancestors\" : \"Hide Ancestors\"}\n                    size=\"xxlarge\"\n                  />\n                </div>\n              )}\n              {nodeDatum.children.length === 0 && (\n                <Text size=\"xxlarge\">No Known Ancestors</Text>\n              )}\n            </Box>\n          </Box>\n        </Box>\n      </div>\n    </foreignObject>\n  </g >\n);\n\nexport default function PedigreeTree({ pedigree, setCurrentNode, manageTreeRef, visibleAttributeProps }) {\n  const nodeSize = { x: 500, y: 250 };\n  const nodePositionX = nodeSize.x / -2;\n  const nodePositionY = nodeSize.y / -2;\n  const foreignObjectProps = { width: nodeSize.x, height: nodeSize.y, x: nodePositionX, y: nodePositionY };\n  return (\n    // `<Tree />` will fill width/height of its container`.\n    <div className=\"treeWrapper\">\n      <Tree\n        data={pedigree}\n        // initialDepth=\"4\"\n        pathFunc=\"step\"\n        depthFactor=\"700\"\n        zoom=\".05\"\n        nodeSize={nodeSize}\n        separation={{ nonSiblings: 1.4, siblings: 1.2 }}\n        scaleExtent={{ max: .5, min: .05 }}\n        translate={{ x: 100, y: 200 }}\n        pathClassFunc={() => 'path'}\n        renderCustomNodeElement={(rd3tProps) =>\n          renderForeignObjectNode({\n            ...rd3tProps,\n            setCurrentNode,\n            manageTreeRef,\n            foreignObjectProps,\n            visibleAttributeProps\n          })\n        }\n      />\n    </div>\n  );\n}","import { Anchor, Box, Paragraph, RadioButtonGroup, Text } from 'grommet';\nimport React from 'react';\n\nconst radioOptions = [\n  { label: \"None\", value: \"none\" },\n  { label: \"Sex\", value: \"sex\" },\n  { label: \"Color\", value: \"color\" },\n  { label: \"Birthday\", value: \"birthday\" },\n  { label: \"Hips\", value: \"hips\" },\n];\n\nconst attributes = {\n  sex: false,\n  color: false,\n  birthday: false,\n  hips: false,\n};\n\nfunction setAttributeFromRadio(selectedValue, setVisibleAttribute) {\n  console.log(selectedValue)\n  var newAttributes = JSON.parse(JSON.stringify(attributes))\n  newAttributes[selectedValue] = true\n  setVisibleAttribute(newAttributes)\n}\n\nexport default function ManageTree({ currentNode, manageTreeRef, setVisibleAttribute }) {\n  return (\n    <div className=\"manageTree\">\n      <div className=\"dogDetails\" tabIndex={-1} ref={manageTreeRef}>\n        <div className=\"sectionHeader\">{currentNode.name}</div>\n        <div className=\"dogAttributes\">\n          <div>Sex: {currentNode.attributes.sex}<br></br></div>\n          <div>Color: {currentNode.attributes.color}<br></br></div>\n          <div>Birthday: {currentNode.attributes.birthday}<br></br></div>\n          <div>CHIC #: {currentNode.attributes.chicNum}<br></br></div>\n          <div>Hips: {currentNode.attributes.hips}<br></br></div>\n          <div>\n            Reg #: {currentNode.attributes.registrationType} {currentNode.attributes.registrationNum}\n            <br></br>\n          </div>\n          <div>DNA: {currentNode.attributes.dnaInfo}<br></br></div>\n          {currentNode.attributes.ofaLink !== \"None\"\n            && currentNode.attributes.ofaLink !== \"\"\n            &&\n            <div>\n              <Anchor\n                default\n                href={currentNode.attributes.ofaLink}\n                target=\"_blank\"\n                label=\"Open OFA Page in New Tab\"\n              />\n            </div>\n          }\n        </div>\n      </div>\n      <div className=\"controls\">\n        <div className=\"sectionHeader\">Show on Pedigree</div>\n        <RadioButtonGroup\n          name=\"Show on Pedigree\"\n          options={radioOptions}\n          onChange={(e) => setAttributeFromRadio(e.target.value, setVisibleAttribute)}\n        />\n      </div>\n      <div className=\"about\">\n        <div className=\"sectionHeader\">About</div>\n        <Text>\n          This web app is a work in progress and\n          is not compatible with small screens. Please\n          reach out with any accessibility errors!\n        </Text>\n        <Text size=\"small\" margin={{ \"top\": \"auto\" }}>\n          Created with &#9829; by&nbsp;\n          <Anchor href=\"https://arielrezin.com\" target=\"_blank\" label=\"Ariel Rezin\" />\n        </Text>\n      </div>\n    </div>\n  );\n}","import React, { useRef, useState } from 'react';\nimport { Grommet } from 'grommet';\nimport PedigreeTree from './PedigreeTree';\nimport ManageTree from './ManageTree';\n\n\nconst pedigree = require('./pedigree.json');\nconst attributes = {\n  sex: false,\n  color: false,\n  birthday: false,\n  hips: false,\n};\n\nfunction App() {\n  const [currentNode, setCurrentNode] = useState(pedigree);\n  const [visibleAttribute, setVisibleAttribute] = useState(attributes)\n  const manageTreeRef = useRef();\n\n  return (\n    <Grommet>\n      <div className=\"App\" style={{ height: \"98.5vh\" }}>\n        <PedigreeTree\n          pedigree={pedigree}\n          setCurrentNode={(node) => setCurrentNode(node)}\n          manageTreeRef={manageTreeRef}\n          visibleAttributeProps={visibleAttribute}\n        />\n        <ManageTree\n          currentNode={currentNode}\n          manageTreeRef={manageTreeRef}\n          visibleAttribute={visibleAttribute}\n          setVisibleAttribute={(attributeObj) => setVisibleAttribute(attributeObj)}\n        />\n      </div>\n    </Grommet>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}